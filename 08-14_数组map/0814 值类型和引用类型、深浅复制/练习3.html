<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
		<meta name="author" content="金西振" />
		<title></title>
		<style></style>
	</head>
	<body>
		<script>
			var users = [
				{ name: '张三', age: 18 },
				{ name: '李四', age: 19 },
				{ name: '张三', age: 20 },
				{ name: '王五', age: 21 },
				{ name: '张三', age: 22 },
				{ name: '王五', age: 23 },
			];
			var users = [
				{ name: '王五', age: 23 },
				{ name: '张三', age: 22 },
				{ name: '王五', age: 21 },
				{ name: '张三', age: 20 },
				{ name: '李四', age: 19 },
				{ name: '张三', age: 18 },
			];
			var newArray = [];
			for (var i = 0; i < users.length; i++) {
				var item = users[i];

				// i=0 name=张三，在新数组中不存在，直接添加
				// i=1 name=李四，在新数组中不存在，直接添加
				// i=2 name=张三，在新数组中存在，不能接添加
				var result = newArray.find(function (obj) {
					return obj.name === item.name;
				});
				// console.log('result: ', result);
				if (result === undefined) {
					newArray.push(item);
				}
			}
			// console.log('newArray: ', newArray);
		</script>

		<script>
			var users = [
				{ name: '张三', age: 12 },
				{ name: '李四', age: 19 },
				{ name: '张三', age: 23 },
				{ name: '王五', age: 22 },
				{ name: '张三', age: 16 },
				{ name: '王五', age: 23 },
			];

			var newArray = [];
			for (var i = 0; i < users.length; i++) {
				var item = users[i];
				var result = newArray.find(function (obj) {
					return obj.name === item.name;
				});
				// console.log('result: ', result);
				if (result === undefined) {
					// 新数组中不存在的名字，直接添加
					console.log(i + '新数组中不存在的名字，直接添加:', result, item, newArray);
					newArray.push(item);
				} else {
					//  新数组中已经存在这名字，比较age的大小
					console.log(i + '新数组中已经存在这名字，比较age的大小: ', result, item, newArray);
					if (result.age < item.age) {
						console.log('新数组中的年龄比较小');
						result.age = item.age;
					}
					console.log(i + '新数组中已经存在这名字，比较age的大小: 替换age之后', result, item, newArray);
				}
			}
			console.log('newArray: ', newArray);
		</script>
	</body>
</html>
